(this["webpackJsonpbuy-books-direct"]=this["webpackJsonpbuy-books-direct"]||[]).push([[0],{13:function(e,t,a){e.exports={"banner-container":"Hero_banner-container__1RrYh",banner:"Hero_banner__3EYq8","banner-image":"Hero_banner-image__184DJ","hero-buttons":"Hero_hero-buttons__2RXVg"}},15:function(e,t,a){e.exports={gallery:"Books_gallery__1FOn-","book-summary":"Books_book-summary__L1nht","image-link":"Books_image-link__9zOvB"}},16:function(e,t,a){e.exports={"hero-button":"Buttons_hero-button__UawHM","link-button":"Buttons_link-button__vQotA","hero-link-button":"Buttons_hero-link-button__1lg9V Buttons_link-button__vQotA"}},23:function(e,t,a){e.exports={container:"App_container__2FRc7"}},30:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(22),i=a.n(n),o=(a(30),a(25)),s=a(5),u=(a(31),a(32),a(2)),l=a(15),h=a.n(l),b=a(0);function m(e){var t=e.books;return Object(b.jsx)("div",{className:h.a.gallery,children:t.map((function(e){return Object(b.jsx)(d,{book:e},e.Title+e.AuthorFullName+e.PublicationDate)}))})}function d(e){var t=e.book;return Object(b.jsxs)("article",{className:h.a["book-summary"],children:[Object(b.jsx)("a",{href:t.Link,target:"_blank",rel:"noreferrer",className:h.a["image-link"],children:Object(b.jsx)("img",{src:t.ImageSrc,alt:'Book cover of "'.concat(t.Title,'" by ').concat(t.AuthorFullName)})}),Object(b.jsxs)("p",{children:[Object(b.jsx)("b",{children:t.Title}),Object(b.jsx)("br",{}),Object(b.jsx)("i",{children:t.AuthorFullName})]})]},t.Title+t.AuthorFullName+t.PublicationDate)}var j=a(17),g=a(16),O=a.n(g),f=["children","className"],k=["children"];function p(e){var t=e.children,a=e.className,r=Object(j.a)(e,f);return Object(b.jsx)("button",Object(u.a)(Object(u.a)({className:"".concat(O.a["link-button"]," ").concat(null!==a&&void 0!==a?a:"")},r),{},{children:t}))}function v(e){e.children;var t=Object(j.a)(e,k);return Object(b.jsx)("button",Object(u.a)(Object(u.a)({className:O.a["hero-button"]},t),{},{children:e.children}))}function x(e){var t=e.checked,a=e.onChange,r=e.value;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("label",{className:"filter-option ".concat(t?"checked":""),children:[Object(b.jsx)("input",{type:"checkbox",value:r,checked:t,onChange:a,style:{display:"none"}}),r]})})}function A(e){var t=e.genres,a=e.searchCriteria,c=e.setSearchCriteria,n=Object(r.useState)([]),i=Object(s.a)(n,2),o=i[0],l=i[1];Object(r.useEffect)((function(){var e=t.map((function(e){return{value:e,checked:a.genres.includes(e)}}));l(e)}),[t,a.genres]);var h=function(e){var t=o.map((function(t){return t.value!==e.target.value?Object(u.a)({},t):Object(u.a)(Object(u.a)({},t),{},{checked:!t.checked})})).filter((function(e){return e.checked})).map((function(e){return e.value}));c(Object(u.a)(Object(u.a)({},a),{},{genres:t}))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{className:"filter",children:"Filter by Genre"}),o.map((function(e){return Object(b.jsx)(x,{checked:e.checked,value:e.value,onChange:h},e.value)}))]})}function N(e){var t=e.tags,a=e.searchCriteria,c=e.setSearchCriteria,n=Object(r.useState)([]),i=Object(s.a)(n,2),o=i[0],l=i[1];Object(r.useEffect)((function(){var e=t.map((function(e){return{value:e,checked:a.tags.includes(e)}}));l(e)}),[t,a.tags]);var h=function(e){var t=o.map((function(t){return t.value!==e.target.value?Object(u.a)({},t):Object(u.a)(Object(u.a)({},t),{},{checked:!t.checked})})).filter((function(e){return e.checked})).map((function(e){return e.value}));c(Object(u.a)(Object(u.a)({},a),{},{tags:t}))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{className:"filter",children:"Filter by Tag"}),o.map((function(e){return Object(b.jsx)(x,{checked:e.checked,value:e.value,onChange:h},e.value)}))]})}function C(e){var t=e.searchCriteria,a=e.setSearchCriteria,c=Object(r.useState)([]),n=Object(s.a)(c,2),i=n[0],o=n[1];Object(r.useEffect)((function(){var e=["Audiobook","eBook","Physical"].map((function(e){return{value:e,checked:t.media.includes(e)}}));o(e)}),[t.media]);var l=function(e){var r=i.map((function(t){return t.value!==e.target.value?Object(u.a)({},t):Object(u.a)(Object(u.a)({},t),{},{checked:!t.checked})})).filter((function(e){return e.checked})).map((function(e){return e.value}));a(Object(u.a)(Object(u.a)({},t),{},{media:r}))};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h3",{className:"filter",children:"Filter by Medium"}),i.map((function(e){return Object(b.jsx)(x,{checked:e.checked,value:e.value,onChange:l},e.value)}))]})}function S(e){var t=e.tags,a=e.genres,r=e.authors,c=e.searchCriteria,n=e.setSearchCriteria;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsx)(A,{genres:a,searchCriteria:c,setSearchCriteria:n})}),Object(b.jsx)("div",{children:Object(b.jsx)(N,{tags:t,searchCriteria:c,setSearchCriteria:n})}),Object(b.jsx)("div",{children:Object(b.jsx)(C,{searchCriteria:c,setSearchCriteria:n})}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h3",{className:"filter",children:"Authors"}),r.map((function(e){return Object(b.jsx)(p,{className:"author",onClick:function(){return t=e,void n((function(e){return Object(u.a)(Object(u.a)({},e),{},{searchText:t})}));var t},children:e},e)}))]})]})}a(34);function y(e){var t=e.searchCriteria,a=e.setSearchCriteria;return Object(b.jsxs)("div",{className:"search-control",children:[Object(b.jsx)("label",{htmlFor:"search",style:{display:"block"},children:"Search by Title or Author"}),Object(b.jsx)("input",{type:"text",name:"Search",id:"search",className:"search",placeholder:"Search...",value:t.searchText,onChange:function(e){return t=e.target.value,void a((function(e){return Object(u.a)(Object(u.a)({},e),{},{searchText:t})}));var t}})]})}function P(e){var t=e.books,a=e.searchCriteria,c=e.setSearchCriteria,n=e.tags,i=e.genres,o=e.authors,u=Object(r.useState)([]),l=Object(s.a)(u,2),h=l[0],d=l[1];return Object(r.useEffect)((function(){console.log("Set search results");var e=t.filter((function(e){return function(e,t){return null===e||t.Title.toLowerCase().includes(e.toLowerCase())||t.AuthorFullName.toLowerCase().includes(e.toLowerCase())}(a.searchText,e)&&function(e,t){return 0===e.length||e.reduce((function(e,a){var r,c;return e&&(null===(r=t.Genre)||void 0===r||null===(c=r.toLowerCase())||void 0===c?void 0:c.trim())===a.toLowerCase().trim()}),!0)}(a.genres,e)&&function(e,t){return 0===e.length||e.reduce((function(e,a){return e&&t.Tags.some((function(e){return(null===e||void 0===e?void 0:e.toLowerCase().trim())===(null===a||void 0===a?void 0:a.toLowerCase().trim())}))}),!0)}(a.tags,e)&&function(e,t){return 0===e.length||e.reduce((function(e,a){switch(a){case"Audiobook":return e&&t.AudioBook;case"eBook":return e&&t.Ebook;case"Physical":return e&&t.Physical;default:throw new Error("Medium not found. Unable to search by medium ".concat(a))}}),!0)}(a.media,e)}));d(e)}),[t,a]),Object(b.jsxs)(b.Fragment,{children:[JSON.stringify(a),Object(b.jsx)(y,{searchCriteria:a,setSearchCriteria:c}),Object(b.jsx)(S,{tags:n,genres:i,authors:o,searchCriteria:a,setSearchCriteria:c}),Object(b.jsx)(m,{books:h})]})}var _=a(3);a(35);var F=a.p+"static/media/hero-banner.a216a5ad.jpg",T=a(13),L=a.n(T),D=a(23),B=a.n(D);function I(e){var t=e.setSearchCriteria,a=Object(_.f)();return Object(b.jsx)("div",{className:L.a["banner-container"],children:Object(b.jsxs)("div",{className:"".concat(B.a.container," ").concat(L.a.banner),children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Buy Books Directly from the Author!"}),Object(b.jsx)("p",{children:"Put 90%+ straight into your favorite author's pocket."}),Object(b.jsx)("p",{className:L.a["hero-buttons"],children:Object(b.jsxs)(v,{onClick:function(){t({genres:[],media:[],searchText:"",tags:[]}),a.push("/search")},children:[Object(b.jsx)("i",{className:"fas fa-book"})," See What's New"]})})]}),Object(b.jsx)("img",{className:L.a["banner-image"],src:F,alt:"A formidable multi-story library"})]})})}var w=[{Title:"Dragonia 1",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:["High Fantasy"],Physical:!1,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/516B68LM4DL._SY346_.jpg",Link:"https://payhip.com/b/SHhi",Template:"",PublicationDate:"1/2/2020",DateAdded:"1/20/2021"},{Title:"Dragonia 2",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:[],Physical:!1,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/51MCIhwNRfL._SY346_.jpg",Link:"https://payhip.com/b/6OB0",Template:"",PublicationDate:"2/2/2020",DateAdded:"2/20/2021"},{Title:"Dragonia 3",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:[],Physical:!1,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/51OE5+LMmRL._SY346_.jpg",Link:"https://payhip.com/b/m9pB",Template:"",PublicationDate:"3/2/2020",DateAdded:"3/20/2021"},{Title:"Starlyn",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:[],Physical:!0,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/41v-ebImDbL._SY346_.jpg",Link:"https://payhip.com/b/iKBG",Template:"",PublicationDate:"4/2/2020",DateAdded:"8/4/2021"},{Title:"Ikchani",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:[],Physical:!1,Ebook:!0,AudioBook:!0,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/416Sr+n2YNL._SY346_.jpg",Link:"https://payhip.com/b/0H6i",Template:"",PublicationDate:"5/2/2020",DateAdded:"8/1/2021"},{Title:"Victoria's Grave",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:[],Physical:!1,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/41IWpY3Cs5L._SX260_.jpg",Link:"https://payhip.com/b/GX43",Template:"",PublicationDate:"6/2/2020",DateAdded:"5/30/2021"},{Title:"Crimson Claymore",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:["Gritty"],Physical:!1,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/41n2Cxs8AKL._SY346_.jpg",Link:"https://payhip.com/b/47TM",Template:"",PublicationDate:"7/2/2020",DateAdded:"2/14/2021"},{Title:"Obsidian Arrow",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:[],Physical:!1,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/41ZTkdgA0mL._SY346_.jpg",Link:"https://payhip.com/b/MeJd",Template:"",PublicationDate:"8/2/2020",DateAdded:"1/20/2021"},{Title:"Violet Flamberge",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"Craig A. Price Jr.",Genre:"Fantasy",Tags:["Steampunk"],Physical:!1,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/41xrUHwTfFL._SY346_.jpg",Link:"https://payhip.com/b/91pl",Template:"",PublicationDate:"9/2/2020",DateAdded:"1/20/2021"},{Title:"Ghost Probe",AuthorLastName:"Price",AuthorFirstName:"Craig",AuthorFullName:"The Other Craig A. Price Jr.",Genre:"Sci-Fi",Tags:["Comedy"],Physical:!1,Ebook:!0,AudioBook:!1,Search:"",Price:"$3.99",ImageSrc:"https://m.media-amazon.com/images/I/4114D+Bwi8L._SY346_.jpg",Link:"https://payhip.com/b/L2DB",Template:"",PublicationDate:"10/2/2020",DateAdded:"1/20/2021"}],E=a(9);var G=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)({searchText:"",genres:[],tags:[],media:[]}),i=Object(s.a)(n,2),u=i[0],l=i[1],h=Object(r.useState)([]),m=Object(s.a)(h,2),d=m[0],j=m[1],g=Object(r.useState)([]),O=Object(s.a)(g,2),f=O[0],k=O[1],p=Object(r.useState)([]),v=Object(s.a)(p,2),x=v[0],A=v[1];function N(e){l({searchText:"",genres:[],tags:[],media:[e]})}function C(){l({searchText:"",genres:[],tags:[],media:[]})}return Object(r.useEffect)((function(){var e=Object(o.a)(w),t=Date.now();e.sort((function(e,a){var r=Date.parse(e.DateAdded);isNaN(r)&&(r=t);var c=Date.parse(a.DateAdded);return isNaN(c)&&(c=t),r>c?-1:r<c?1:0})),c(e)}),[]),Object(r.useEffect)((function(){console.log("Initializing genres");var e=new Set,t=new Set,r=new Set;a.forEach((function(a){return e.add(a.Genre),a.Tags.forEach((function(e){return t.add(e)})),r.add(a.AuthorFullName),e})),j(Array.from(e).sort((function(e,t){return e>t?1:e<t?-1:0}))),k(Array.from(t).sort((function(e,t){return e>t?1:e<t?-1:0}))),A(Array.from(r).sort((function(e,t){return e>t?1:e<t?-1:0})))}),[a]),Object(b.jsxs)(E.a,{basename:"/buy-books-direct",children:[Object(b.jsx)("header",{className:"header",children:Object(b.jsxs)("div",{className:"content container",children:[Object(b.jsx)("h1",{className:"brand",children:Object(b.jsxs)(E.b,{to:"/",onClick:C,children:["buy books direct ",Object(b.jsx)("i",{className:"fas fa-book"})]})}),Object(b.jsx)("input",{type:"checkbox",id:"nav-toggle-checkbox"}),Object(b.jsx)("label",{htmlFor:"nav-toggle-checkbox",className:"nav-toggle",children:Object(b.jsx)("i",{className:"fas fa-bars"})}),Object(b.jsxs)("nav",{className:"nav",children:[Object(b.jsx)(E.b,{className:"nav-link",to:"/",onClick:C,children:"Home"}),Object(b.jsx)(E.b,{className:"nav-link",to:"/search",onClick:function(){return N("eBook")},children:"eBooks"}),Object(b.jsx)(E.b,{className:"nav-link",to:"/search",onClick:function(){return N("Audiobook")},children:"Audiobooks"}),Object(b.jsx)("span",{className:"nav-link",children:"Get Added to this List"}),Object(b.jsx)("span",{className:"nav-link",children:"Subscribe to this List"}),Object(b.jsx)(E.b,{className:"nav-link pointer",to:"/search",title:"Search",children:Object(b.jsx)("i",{className:"fas fa-search"})})]})]})}),Object(b.jsx)("main",{children:Object(b.jsxs)(_.c,{children:[Object(b.jsx)(_.a,{path:"/",exact:!0,children:Object(b.jsx)(I,{setSearchCriteria:l})}),Object(b.jsx)(_.a,{path:["/search"],children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)(P,{books:a,searchCriteria:u,setSearchCriteria:l,tags:f,genres:d,authors:x})})})]})}),Object(b.jsx)("footer",{className:"container",children:"This is a footer. Craig, what're putting down here?"})]})},J=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,45)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),r(e),c(e),n(e),i(e)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root")),J()}},[[44,1,2]]]);
//# sourceMappingURL=main.940f26d2.chunk.js.map